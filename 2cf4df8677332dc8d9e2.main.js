(()=>{"use strict";var e,t={7409:(e,t,a)=>{var n=a(7294),r=a(3935),i=a(3727),l=a(5953),o=a(9397),s=a(4846),c=a(6689),u=a(5977),d=a(885);var m=a(4949);const p={root:"root___VRgGWN_E",titleContainer:"titleContainer__Y8cJ12qvE",title:"title__bWXxdbuWj"},y=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return Object.assign.apply(Object,[{}].concat(t))},f=function(e){var t=y(p,e.classes);return n.createElement("header",{className:t.root},n.createElement("span",null,n.createElement(i.rU,{to:"/"},n.createElement("span",{className:t.titleContainer},n.createElement(m.Z,{size:22,color:"#0066ff"}),n.createElement("h2",{className:t.title},"Restaurants")))))},v=function(e){var t=e.children;return n.createElement("div",{className:"root__xv7M2PYRx"},t)};var b=a(6702);const g={root:"root__Q8fNK75C2",copyright:"copyright___GRbV2njU",container:"container__AUhvZP84r",createdBy:"createdBy___p8uVIAun"},_=function(e){var t=y(g,e.classes);return n.createElement("footer",{className:t.root},n.createElement("small",{className:t.copyright},"Â© ","".concat((new Date).getFullYear()," | All Rights Reserved")),n.createElement("div",{className:t.container},n.createElement("span",{className:t.createdBy},"Created by"),n.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/arampetrosyann",color:"#000"},n.createElement(b.Z,{size:20,color:"#fff",style:{marginTop:2}}))))};var h=a(9503),x=a(4856);const E={root:"root__HJh_YvWUB",item:"item__JE0JVhn9u",name:"name___ifFAmkan",ratingContainer:"ratingContainer__CXZv8aLLA",rating:"rating__h2FzLlAbt",address:"address__Tkdl4N9Wq",pinIcon:"pinIcon__XF4z59HbO",timings:"timings__aSI0tR7zx",actions:"actions__m4zXhY1xL"};var w=a(168),k=a(5861),C=a(7757),N=a.n(C),S=a(6075),O=a(4397),j=a(4438),R={data:null,setData:function(){},selectedRestaurant:null,setSelectedRestaurant:function(){},viewport:{latitude:40.1772,longitude:44.50349,zoom:8},setViewport:function(){}};const z=n.createContext(R);var B;const L=function(e){var t,a=function(){var e=(0,n.useState)(!1),t=(0,d.Z)(e,2),a=t[0],r=t[1],i=(0,n.useContext)(z),l=i.data,o=i.setData,s=i.setViewport,c=(0,u.k6)(),m=(0,S.x)(),p=(0,n.useCallback)((0,k.Z)(N().mark((function e(){var t,a,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),t=(0,O.Ps)(B||(B=(0,w.Z)(["\n            query restaurants($params: RestaurantsParamsInput) {\n                restaurants(params: $params) {\n                    items {\n                        id\n                        name\n                        url\n                        phoneNumbers\n                        description\n                        location {\n                            country\n                            city\n                            address\n                            latitude\n                            longitude\n                            zipcode\n                        }\n                        averageRating\n                        timings {\n                            from\n                            to\n                            isContinual\n                        }\n                    }\n                    total\n                    totalPages\n                }\n            }\n        "]))),e.next=4,m.query({query:t,variables:{params:{sort:"averageRating",dir:"ASC"}},fetchPolicy:"no-cache"}).catch((function(){r(!1)}));case 4:a=e.sent,n=a.data,i=(n||{}).restaurants,o(void 0===i?{}:i),r(!1);case 9:case"end":return e.stop()}}),e)}))),[]),y=(0,n.useCallback)((function(e){var t=(e||{}).location;s({longitude:Number(t.longitude),latitude:Number(t.latitude),zoom:16,transitionInterpolator:new j.Cf({speed:1.2}),transitionDuration:"auto"})}),[s]),f=(0,n.useCallback)((function(e,t){e.stopPropagation(),c.push("/restaurant/".concat(t))}),[]);return(0,n.useEffect)((function(){p()}),[p]),{data:l,isLoading:a,handleOnClick:y,handleBtnClick:f}}(),r=a.data,i=a.isLoading,l=a.handleOnClick,o=a.handleBtnClick,s=y(E,e.classes);return i?null:n.createElement("div",{className:s.root},null==r||null===(t=r.items)||void 0===t?void 0:t.map((function(e){var t,a,r,i,c,u;return n.createElement("div",{className:s.item,key:e.id,onClick:function(){return l(e)}},n.createElement("span",{className:s.name},e.name),n.createElement("div",{className:s.ratingContainer},n.createElement("span",{className:s.rating},"".concat(e.averageRating||0)),n.createElement(h.Z,{rating:e.averageRating||0,numberOfStars:5,starRatedColor:"#FFB800",name:"rating",starSpacing:"0",isSelectable:!1,starDimension:"16px"})),n.createElement("div",{className:s.address},n.createElement(x.Z,{size:"14px",color:"#1a9148",className:s.pinIcon}),(null===(t=e.location)||void 0===t?void 0:t.address)||"-"),n.createElement(n.Fragment,null,null!==(a=e.timings)&&void 0!==a&&a.isContinual?n.createElement("div",{className:s.timings},"Continual"):null!==(r=e.timings)&&void 0!==r&&r.from&&null!==(i=e.timings)&&void 0!==i&&i.to?n.createElement("div",{className:s.timings},"".concat(null===(c=e.timings)||void 0===c?void 0:c.from," - ").concat(null===(u=e.timings)||void 0===u?void 0:u.to)):""),n.createElement("div",{className:s.actions},n.createElement(Z,{onClick:function(t){return o(t,e.id)},priority:"secondary",text:"View Restaurant"})))})))},A={button:"button__wX7_jyEfK",primary:"primary__LhfXgnyHT",secondary:"secondary___4jUCygwd",iconOnly:"iconOnly__mc4arE0wM"},Z=function(e){var t=e.text,a=e.priority,r=void 0===a?"primary":a,i=e.iconOnly,l=e.onClick,o=e.disabled,s=e.type,c=e.children,u=y(A,e.classes);return n.createElement("button",{onClick:l,type:s,disabled:o,className:"".concat(u.button," ").concat(u[r]," ").concat(i?u.iconOnly:"")},c,t)};var P=a(7462);const $={root:"root__tDcC7ILCU"},I=JSON.parse('{"version":8,"name":"Basic","metadata":{"mapbox:autocomposite":true},"sources":{"mapbox":{"url":"mapbox://mapbox.mapbox-streets-v7","type":"vector"}},"sprite":"mapbox://sprites/mapbox/basic-v8","glyphs":"mapbox://fonts/mapbox/{fontstack}/{range}.pbf","layers":[{"id":"background","type":"background","paint":{"background-color":"#dedede"},"interactive":true},{"id":"landuse_overlay_national_park","type":"fill","source":"mapbox","source-layer":"landuse_overlay","filter":["==","class","national_park"],"paint":{"fill-color":"#d2edae","fill-opacity":0.75},"interactive":true},{"id":"landuse_park","type":"fill","source":"mapbox","source-layer":"landuse","filter":["==","class","park"],"paint":{"fill-color":"#d2edae"},"interactive":true},{"id":"waterway","type":"line","source":"mapbox","source-layer":"waterway","filter":["all",["==","$type","LineString"],["in","class","river","canal"]],"paint":{"line-color":"#a0cfdf","line-width":{"base":1.4,"stops":[[8,0.5],[20,15]]}},"interactive":true},{"id":"water","type":"fill","source":"mapbox","source-layer":"water","paint":{"fill-color":"#a0cfdf"},"interactive":true},{"id":"building","type":"fill","source":"mapbox","source-layer":"building","paint":{"fill-color":"#d6d6d6"},"interactive":true},{"interactive":true,"layout":{"line-cap":"butt","line-join":"miter"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["==","structure","tunnel"]]],"type":"line","source":"mapbox","id":"tunnel_minor","paint":{"line-color":"#efefef","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]},"line-dasharray":[0.36,0.18]},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"butt","line-join":"miter"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["==","structure","tunnel"]]],"type":"line","source":"mapbox","id":"tunnel_major","paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]},"line-dasharray":[0.28,0.14]},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"round","line-join":"round"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["in","structure","none","ford"]]],"type":"line","source":"mapbox","id":"road_minor","paint":{"line-color":"#efefef","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"round","line-join":"round"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["in","structure","none","ford"]]],"type":"line","source":"mapbox","id":"road_major","paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"butt","line-join":"miter"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["==","structure","bridge"]]],"type":"line","source":"mapbox","id":"bridge_minor case","paint":{"line-color":"#dedede","line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]},"line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"butt","line-join":"miter"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["==","structure","bridge"]]],"type":"line","source":"mapbox","id":"bridge_major case","paint":{"line-color":"#dedede","line-width":{"base":1.6,"stops":[[12,0.5],[20,10]]},"line-gap-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"round","line-join":"round"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway_link","street","street_limited","service","track","pedestrian","path","link"],["==","structure","bridge"]]],"type":"line","source":"mapbox","id":"bridge_minor","paint":{"line-color":"#efefef","line-width":{"base":1.55,"stops":[[4,0.25],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"round","line-join":"round"},"filter":["all",["==","$type","LineString"],["all",["in","class","motorway","primary","secondary","tertiary","trunk"],["==","structure","bridge"]]],"type":"line","source":"mapbox","id":"bridge_major","paint":{"line-color":"#fff","line-width":{"base":1.4,"stops":[[6,0.5],[20,30]]}},"source-layer":"road"},{"interactive":true,"layout":{"line-cap":"round","line-join":"round"},"filter":["all",["==","$type","LineString"],["all",["<=","admin_level",2],["==","maritime",0]]],"type":"line","source":"mapbox","id":"admin_country","paint":{"line-color":"#8b8a8a","line-width":{"base":1.3,"stops":[[3,0.5],[22,15]]}},"source-layer":"admin"},{"interactive":true,"minzoom":5,"layout":{"icon-image":"{maki}-11","text-offset":[0,0.5],"text-field":"{name_en}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-max-width":8,"text-anchor":"top","text-size":11,"icon-size":1},"filter":["all",["==","$type","Point"],["all",["==","scalerank",1],["==","localrank",1]]],"type":"symbol","source":"mapbox","id":"poi_label","paint":{"text-color":"#666","text-halo-width":1,"text-halo-color":"rgba(255,255,255,0.75)","text-halo-blur":1},"source-layer":"poi_label"},{"interactive":true,"layout":{"symbol-placement":"line","text-field":"{name_en}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-transform":"uppercase","text-letter-spacing":0.1,"text-size":{"base":1.4,"stops":[[10,8],[20,14]]}},"filter":["all",["==","$type","LineString"],["in","class","motorway","primary","secondary","tertiary","trunk"]],"type":"symbol","source":"mapbox","id":"road_major_label","paint":{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":2},"source-layer":"road_label"},{"interactive":true,"minzoom":8,"layout":{"text-field":"{name_en}","text-font":["Open Sans Semibold","Arial Unicode MS Bold"],"text-max-width":6,"text-size":{"stops":[[6,12],[12,16]]}},"filter":["all",["==","$type","Point"],["in","type","town","village","hamlet","suburb","neighbourhood","island"]],"type":"symbol","source":"mapbox","id":"place_label_other","paint":{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1,"text-halo-blur":1},"source-layer":"place_label"},{"interactive":true,"layout":{"text-field":"{name_en}","text-font":["Open Sans Bold","Arial Unicode MS Bold"],"text-max-width":10,"text-size":{"stops":[[3,12],[8,16]]}},"maxzoom":16,"filter":["all",["==","$type","Point"],["==","type","city"]],"type":"symbol","source":"mapbox","id":"place_label_city","paint":{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1,"text-halo-blur":1},"source-layer":"place_label"},{"interactive":true,"layout":{"text-field":"{name_en}","text-font":["Open Sans Regular","Arial Unicode MS Regular"],"text-max-width":10,"text-size":{"stops":[[3,14],[8,22]]}},"maxzoom":12,"filter":["==","$type","Point"],"type":"symbol","source":"mapbox","id":"country_label","paint":{"text-color":"#666","text-halo-color":"rgba(255,255,255,0.75)","text-halo-width":1,"text-halo-blur":1},"source-layer":"country_label"}]}'),U={pinBox:"pinBox__RhlwrEzDp",popup:"popup__Od6iGErMM"};var V=function(e){var t=e.data,a=void 0===t?[]:t,r=e.onClick,i=void 0===r?function(){}:r;return null==a?void 0:a.map((function(e,t){return n.createElement(j.Jx,{key:"marker-".concat(t),longitude:Number(e.location.longitude),latitude:Number(e.location.latitude)},n.createElement("div",{className:U.pinBox},n.createElement("div",{className:U.popup},n.createElement("p",null,e.name),n.createElement("address",null,e.location.address)),n.createElement(x.Z,{onClick:function(){return i(e)},size:22,color:"#ba2b47",cursor:"pointer",className:U.mapPin})))}))};const W=n.memo(V),M=function(e){var t=(0,n.useContext)(z),a=t.data,r=t.viewport,i=t.setViewport,l=(0,u.k6)(),o=y($,e.classes);return n.createElement("div",{className:o.root},n.createElement(j.ZP,(0,P.Z)({},r,{width:"100%",height:"100%",mapStyle:I,onViewportChange:function(e){return i(e)},mapboxApiAccessToken:"pk.eyJ1IjoiYXJhbWphbiIsImEiOiJja3VicHlyNDgwNGo4Mm9ydnVteHh4bm9rIn0.mBiwI8BjoSqWu6rg_AkHlA"}),n.createElement(W,{data:(null==a?void 0:a.items)||[],onClick:function(e){return l.push("/restaurant/".concat(e.id))}})))},D={root:"root___jzxR7t59"},F=function(e){var t,a,r,i,l,o,s,c=e.data,u=void 0===c?{}:c,d=y(D,e.classes);return u?n.createElement("div",{className:d.root},n.createElement("h1",null,(null==u?void 0:u.name)||""),n.createElement("div",null,(null==u?void 0:u.description)||""),n.createElement("div",{className:d.ratingContainer},n.createElement("span",{className:d.rating},"".concat((null==u?void 0:u.averageRating)||0)),n.createElement(h.Z,{rating:(null==u?void 0:u.averageRating)||0,numberOfStars:5,starRatedColor:"#FFB800",name:"rating",starSpacing:"0",isSelectable:!1,starDimension:"16px"})),n.createElement("address",null,(null==u||null===(t=u.location)||void 0===t?void 0:t.address)||""),n.createElement("ul",null,null==u||null===(a=u.phoneNumbers)||void 0===a?void 0:a.map((function(e,t){return n.createElement("li",{key:t},e)}))),n.createElement(n.Fragment,null,null!=u&&null!==(r=u.timings)&&void 0!==r&&r.isContinual?n.createElement("div",{className:d.timings},"Continual"):null!=u&&null!==(i=u.timings)&&void 0!==i&&i.from&&null!=u&&null!==(l=u.timings)&&void 0!==l&&l.to?n.createElement("div",{className:d.timings},"".concat(null==u||null===(o=u.timings)||void 0===o?void 0:o.from," - ").concat(null==u||null===(s=u.timings)||void 0===s?void 0:s.to)):"")):null},q=function(){var e=(0,n.useState)(null),t=(0,d.Z)(e,2),a=t[0],r=t[1],i=(0,n.useState)(null),l=(0,d.Z)(i,2),o=l[0],s=l[1],c=(0,n.useState)({latitude:40.1772,longitude:44.50349,zoom:8}),u=(0,d.Z)(c,2),m=u[0],p=u[1];return n.createElement(z.Provider,{value:{data:a,setData:r,selectedRestaurant:o,setSelectedRestaurant:s,viewport:m,setViewport:p}},n.createElement("div",{className:"root___3vXP7WOB"},n.createElement("div",{className:"container__gWBisKiZB"},n.createElement(L,{classes:{root:"list__i_Vr_UptT root__HJh_YvWUB"}}),n.createElement(M,{classes:{root:"map__MSWLGERbb root__tDcC7ILCU"}}))))};var J;const T=function(){var e=function(){var e=(0,n.useState)(null),t=(0,d.Z)(e,2),a=t[0],r=t[1],i=(0,n.useState)(!1),l=(0,d.Z)(i,2),o=l[0],s=l[1],c=(0,u.UO)().id,m=(0,S.x)(),p=(0,n.useCallback)((0,k.Z)(N().mark((function e(){var t,a,n,i;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),t=(0,O.Ps)(J||(J=(0,w.Z)(["\n            query restaurant($id: ID!) {\n                restaurant(id: $id) {\n                    id\n                    name\n                    url\n                    description\n                    location {\n                        country\n                        city\n                        address\n                        latitude\n                        longitude\n                        zipcode\n                    }\n                    timings {\n                        from\n                        to\n                        isContinual\n                    }\n                    averageRating\n                    phoneNumbers\n                }\n            }\n        "]))),e.next=4,m.query({query:t,variables:{id:c},fetchPolicy:"no-cache"}).catch((function(){s(!1)}));case 4:a=e.sent,n=a.data,i=(n||{}).restaurant,r(void 0===i?{}:i),s(!1);case 9:case"end":return e.stop()}}),e)}))),[c]);return(0,n.useEffect)((function(){p()}),[p]),{restaurant:a,isLoading:o}}().restaurant;return n.createElement("div",{className:"root___xVVgm4A0"},n.createElement(F,{data:e}))},X=function(){return n.createElement(u.rs,null,n.createElement(u.AW,{exact:!0,path:"/"},n.createElement(q,null)),n.createElement(u.AW,{path:"/restaurant/:id"},n.createElement(T,null)),n.createElement(u.AW,null,n.createElement("p",null,"Not Found")))},H=function(){return n.createElement("div",{className:"app"},n.createElement(f,null),n.createElement(v,null,n.createElement(X,null)),n.createElement(_,null))};var Y=new l.u({uri:"https://restaurants-app-serv.herokuapp.com/graphql"}),G=new o.f({link:Y,cache:new s.h});r.render(n.createElement(n.StrictMode,null,n.createElement(c.e,{client:G},n.createElement(i.UT,null,n.createElement(H,null)))),document.getElementById("root"))}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var i=a[e]={exports:{}};return t[e].call(i.exports,i,i.exports,n),i.exports}n.m=t,e=[],n.O=(t,a,r,i)=>{if(!a){var l=1/0;for(u=0;u<e.length;u++){for(var[a,r,i]=e[u],o=!0,s=0;s<a.length;s++)(!1&i||l>=i)&&Object.keys(n.O).every((e=>n.O[e](a[s])))?a.splice(s--,1):(o=!1,i<l&&(l=i));if(o){e.splice(u--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,r,i]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,i,[l,o,s]=a,c=0;if(l.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(s)var u=s(n)}for(t&&t(a);c<l.length;c++)i=l[c],n.o(e,i)&&e[i]&&e[i][0](),e[l[c]]=0;return n.O(u)},a=self.webpackChunkrestaurants_app_front=self.webpackChunkrestaurants_app_front||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})();var r=n.O(void 0,[886],(()=>n(7409)));r=n.O(r)})();
//# sourceMappingURL=2cf4df8677332dc8d9e2.main.js.map